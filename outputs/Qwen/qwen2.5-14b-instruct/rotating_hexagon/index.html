<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rotating Hexagon with Bouncing Balls</title>
<style>
  #container {
    width: 60%;
    height: 60vh;
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
  }
</style>
</head>
<body>

<div id="container">
  <svg id="canvas" width="100%" height="100%"></svg>
</div>

<script>
// Constants
const canvas = document.getElementById('canvas');
const balls = [];
const ballCount = 5;

function drawHexagon() {
    const radius = Math.min(canvas.clientWidth, canvas.clientHeight) / 2 - 4;
    const hexagonPoints = [
        `M ${radius}, ${0}`,
        `L ${radius * 1.732}, ${radius / 2}`,
        `L ${radius * 1.732}, ${radius * 1.5}`,
        `L ${radius}, ${radius * 3}`,
        `L ${radius - radius * 1.732}, ${radius * 1.5}`,
        `L ${radius - radius * 1.732}, ${radius / 2}`,
        "Z"
    ];
    
    canvas.innerHTML = `<polygon points="${hexagonPoints.join(' ')}" fill="#4CAF50"/>`;
}

function createBall() {
    const ballRadius = Math.random() * (20 - 6) + 6; // Random radius between 6 and 20
    balls.push({
        x: canvas.clientWidth / 2,
        y: canvas.clientHeight / 2,
        dx: Math.floor(Math.random() * (1.5 - (-1.5))) - 1.5, // random velocity in X direction
        dy: Math.floor(Math.random() * (1.5 - (-1.5))) - 1.5, // random velocity in Y direction
        radius: ballRadius,
        color: `hsl(${Math.floor(360 * Math.random())}, 85%, 75%)` // Random color
    });
}

function drawBall(ball) {
    return `<circle cx="${ball.x}" cy="${ball.y}" r="${ball.radius}" fill="${ball.color}"/>`;
}

function updateBalls() {
    const boxWidth = canvas.clientWidth;
    const boxHeight = canvas.clientHeight;

    balls.forEach((ball, index) => {
        ball.x += ball.dx;
        ball.y += ball.dy;

        // Bouncing off walls
        if (ball.x + ball.radius > boxWidth || ball.x - ball.radius < 0)
            ball.dx *= -1;
         
        if (ball.y + ball.radius > boxHeight || ball.y - ball.radius < 0)
            ball.dy *= -1;

        balls[index] = ball; // Update the ball's position
    });
}

function animate() {
    drawHexagon();
     
    createBall(); // Create a new ball each frame

    canvas.innerHTML = '';
    balls.forEach(drawBall);
     
    updateBalls();

    requestAnimationFrame(animate);
}

// Start animation loop when the page loads.
window.onload = function () {
    for (let i = 0; i < ballCount; i++)
        createBall(); // Initialize with some initial balls

    animate();
};
</script>

</body>
</html>